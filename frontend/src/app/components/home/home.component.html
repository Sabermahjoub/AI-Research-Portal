<mat-sidenav-container class="example-container !bg-gray-100">
    <mat-sidenav class="!w-[20%]" #sidenav mode="side" [(opened)]="sideBarOpened">
        <div class="p-3 bg m-0 absolute h-full w-full flex-col">

            <!-- App logo + name -->
            <div class="p-1 flex justify-center items-center h-[15%] ">
                <span class="material-symbols-outlined text-white text-7xl w-[10%]">
                    network_intel_node
                </span>
                <span class=" w-[90%] flex justify-center items-center text-start text-white text-5xl">CoreAI</span>
                <!--img src="/coreAI.png" alt="CoreAI Logo" class="h-full mx-auto " /-->
            </div>

            <hr>

            <!-- My profile div -->
            <div class="w-full py-3 flex items-center gap-3 px-4">
                <div class="flex justify-center items-center w-10 h-10 bg-white/20 rounded-full">
                    <span class="material-symbols-outlined text-white text-2xl">
                        face
                    </span>
                </div>
                <div class="flex-1">
                    <span class="text-white font-medium text-sm">{{ isAuthenticated ? (currentUser?.username || 'User') : 'Invit√©' }}</span>
                </div>
            </div>

            <hr>

            <!-- Main container for the menu items -->
            <div class="w-full mb-6 justify-center items-center flex flex-col p-0 h-[70%]">

                <!-- App pages -->
                <div class="flex flex-col w-[95%] h-[90%] p-1 gap-2">

                    <!-- Home -->
                    <div class="flex justify-start gap-2 items-center w-full hover:cursor-pointer rounded-md px-4 py-2 my-1"
                        [ngClass]="{
                            'active-menu-item': activeItem === 'home',
                            'text-white hover:bg-white/10': activeItem !== 'home'
                        }"
                        [routerLink]="['/home/list']"
                        (click)="activeItem = 'home'"
                    >
                        <div class="flex items-center justify-center w-8 h-8">
                            <span class="material-symbols-outlined"
                                [ngClass]="{ 'text-gray-700': activeItem === 'home', 'text-white': activeItem !== 'home' }"
                            >
                                home
                            </span>
                        </div>
                        <div class="ml-2"><span>Home</span></div>
                    </div>

                    <!-- My account - only shown when authenticated -->
                    <div *ngIf="isAuthenticated" class="flex justify-start gap-2 items-center w-full hover:cursor-pointer rounded-md px-4 py-2 my-1"
                        [ngClass]="{
                            'active-menu-item': activeItem === 'manage-accounts',
                            'text-white hover:bg-white/10': activeItem !== 'manage-accounts'
                        }"
                        [routerLink]="['/home/my-account']"
                        (click)="activeItem = 'manage-accounts'"
                    >
                        <div class="flex items-center justify-center w-8 h-8">
                            <span class="material-symbols-outlined"
                                [ngClass]="{ 'text-gray-700': activeItem === 'manage-accounts', 'text-white': activeItem !== 'manage-accounts' }"
                            >
                                manage_accounts
                            </span>
                        </div>
                        <div class="ml-2"><span>My account</span></div>
                    </div>

                    <!-- my articles -->
                    <div *ngIf="isAuthenticated" class="flex justify-start gap-2 items-center w-full hover:cursor-pointer rounded-md px-4 py-2 my-1"
                        [ngClass]="{
                            'active-menu-item': activeItem === 'my-articles',
                            'text-white hover:bg-white/10': activeItem !== 'my-articles'
                        }"
                        [routerLink]="['/home/my-publications']"
                        (click)="activeItem = 'my-articles'"
                    >
                        <div class="flex items-center justify-center w-8 h-8">
                            <span class="material-symbols-outlined"
                                [ngClass]="{ 'text-gray-700': activeItem === 'my-articles', 'text-white': activeItem !== 'my-articles' }"
                            >
                                description
                            </span>
                        </div>
                        <div class="ml-2"><span>My articles</span></div>
                    </div>

                    <!-- pending articles -->
                    <div *ngIf="role === 'ADMIN' && isAuthenticated" class="flex justify-start gap-2 items-center w-full hover:cursor-pointer rounded-md px-4 py-2 my-1"
                        [ngClass]="{
                            'active-menu-item': activeItem === 'pending',
                            'text-white hover:bg-white/10': activeItem !== 'pending'
                        }"
                        [routerLink]="['/home/pending-publications']"
                        (click)="activeItem = 'pending'"
                    >
                        <div class="flex items-center justify-center w-8 h-8">
                            <span class="material-symbols-outlined"
                                [ngClass]="{ 'text-gray-700': activeItem === 'pending', 'text-white': activeItem !== 'pending' }"
                            >
                                rule
                            </span>
                        </div>
                        <div class="ml-2"><span>Pending</span></div>
                    </div>

                    <!-- logout - only shown when authenticated -->
                    <div *ngIf="isAuthenticated" class="flex justify-start gap-2 items-center w-full hover:cursor-pointer rounded-md px-4 py-2 my-1 mt-auto"
                        [ngClass]="{
                            'active-menu-item': activeItem === 'logout',
                            'text-white hover:bg-white/10': activeItem !== 'logout'
                        }"
                        (click)="logout()"
                    >
                        <div class="flex items-center justify-center w-8 h-8">
                            <span class="material-symbols-outlined text-white">
                                logout
                            </span>
                        </div>
                        <div class="ml-2"><span>Logout</span></div>
                    </div>

                    <!-- login - only shown when not authenticated -->
                    <div *ngIf="!isAuthenticated" class="flex justify-start gap-2 items-center w-full hover:cursor-pointer rounded-md px-4 py-2 my-1 mt-auto"
                        [ngClass]="{
                            'active-menu-item': activeItem === 'login',
                            'text-white hover:bg-white/10': activeItem !== 'login'
                        }"
                        (click)="navigateToLogin()"
                    >
                        <div *ngIf="isAuthenticated" class="flex items-center justify-center w-8 h-8">
                            <span class="material-symbols-outlined text-white">
                                login
                            </span>
                        </div>
                        <div class="ml-2"><span>Se connecter</span></div>
                    </div>


                </div>



            </div>
        </div>
    </mat-sidenav>

    <mat-sidenav-content>
        <div class="h-[50px] flex justify-start items-center border-b border-gray-200">
            <button class="flex justify-center items-center ml-4" mat-button (click)="sidenav.toggle()">
                <span class="material-symbols-outlined">
                    menu
                </span>
            </button>
        </div>

        <div class="overflow-auto" style="height: calc(100% - 50px);">
            <div class="w-full">
                <router-outlet></router-outlet>
            </div>
        </div>

    </mat-sidenav-content>
</mat-sidenav-container>